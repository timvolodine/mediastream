<!DOCTYPE html>
<html>
<body>
  <p>Click the button to getUserMedia.</p>
  <button onclick="invokeGetUserMedia()">Try It</button>
  <p id="demo"></p>

  <script type="text/javascript">
    // Test MediaStream API callbacks
    var x = document.getElementById("demo");

    function error(e) {
      x.innerHTML = "error: "+ e.code + ", msg: " + e.message;
    }

    function gotStream(stream) {
      track = stream.getVideoTracks()[0];
      x.innerHTML = "track.readyState = " + track.readyState + ", activeStream.active = " + stream.active;
    }

    function invokeGetUserMedia() {
      getUserMedia({audio:true, video:true}, gotStream);
    }

    function getUserMedia(constraints, callback) {
      try {
        navigator.webkitGetUserMedia(constraints, callback, error);
      } catch (e) {
        x.innerHTML = "webkitGetUserMedia threw exception: "+ e;
      }
    }
  </script>
</body>
</html>
